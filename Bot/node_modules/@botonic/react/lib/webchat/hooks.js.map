{"version":3,"sources":["../../src/webchat/hooks.js"],"names":["webchatInitialState","width","height","messagesJSON","messagesComponents","replies","latestInput","typing","webview","webviewParams","session","user","lastRoutePath","handoff","theme","brandColor","textPlaceholder","title","error","devSettings","isWebchatOpen","webchatReducer","state","action","type","find","m","id","payload","msgIndex","map","indexOf","slice","Error","useWebchat","webchatState","webchatDispatch","addMessage","message","addMessageComponent","updateMessage","updateReplies","updateLatestInput","input","updateTyping","updateWebview","params","updateSession","updateUser","updateLastRoutePath","path","updateHandoff","updateTheme","updateDevSettings","settings","toggleWebchat","toggle","setError","useTyping","delayTimeout","typingTimeout","end","document","getElementById","scrollIntoView","behavior","setTimeout","nextMsg","filter","display","delay","totalDelay","e","clearTimeout","usePrevious","value","ref","current","useComponentVisible","initialIsVisible","isComponentVisible","setIsComponentVisible","handleClickOutside","event","contains","target","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import { useEffect, useReducer, useState, useRef } from 'react'\n\nexport const webchatInitialState = {\n  width: 300,\n  height: 450,\n  messagesJSON: [],\n  messagesComponents: [],\n  replies: [],\n  latestInput: {},\n  typing: false,\n  webview: null,\n  webviewParams: null,\n  session: {},\n  user: null,\n  lastRoutePath: null,\n  handoff: false,\n  theme: {\n    brandColor: '#0099ff',\n    textPlaceholder: 'Ask me something...',\n    title: 'Botonic'\n  },\n  error: {},\n  devSettings: {},\n  isWebchatOpen: false\n}\n\nexport function webchatReducer(state, action) {\n  switch (action.type) {\n    case 'addMessage':\n      if (\n        state.messagesJSON &&\n        state.messagesJSON.find(m => m.id === action.payload.id)\n      )\n        return state\n      return {\n        ...state,\n        messagesJSON: [...(state.messagesJSON || []), { ...action.payload }]\n      }\n    case 'addMessageComponent':\n      return {\n        ...state,\n        messagesComponents: [...state.messagesComponents, action.payload]\n      }\n    case 'updateMessage':\n      let msgIndex = state.messagesJSON\n        .map(m => m.id)\n        .indexOf(action.payload.id)\n      if (msgIndex > -1)\n        return {\n          ...state,\n          messagesJSON: [\n            ...state.messagesJSON.slice(0, msgIndex),\n            { ...action.payload },\n            ...state.messagesJSON.slice(msgIndex + 1)\n          ]\n        }\n      return state\n    case 'updateReplies':\n      return { ...state, replies: action.payload }\n    case 'updateLatestInput':\n      return { ...state, latestInput: action.payload }\n    case 'updateTyping':\n      return { ...state, typing: action.payload }\n    case 'updateWebview':\n      return { ...state, ...action.payload }\n    case 'updateSession':\n      return { ...state, session: { ...action.payload } }\n    case 'updateUser':\n      return { ...state, user: { ...action.payload } }\n    case 'updateLastRoutePath':\n      return { ...state, lastRoutePath: action.payload }\n    case 'updateHandoff':\n      return { ...state, handoff: action.payload }\n    case 'updateTheme':\n      return { ...state, theme: { ...action.payload } }\n    case 'updateDevSettings':\n      return { ...state, devSettings: { ...action.payload } }\n    case 'toggleWebchat':\n      return { ...state, isWebchatOpen: action.payload }\n    case 'setError':\n      return { ...state, error: action.payload || {} }\n    default:\n      throw new Error()\n  }\n}\n\nexport function useWebchat() {\n  const [webchatState, webchatDispatch] = useReducer(\n    webchatReducer,\n    webchatInitialState\n  )\n\n  const addMessage = message =>\n    webchatDispatch({ type: 'addMessage', payload: message })\n  const addMessageComponent = message =>\n    webchatDispatch({ type: 'addMessageComponent', payload: message })\n  const updateMessage = message =>\n    webchatDispatch({ type: 'updateMessage', payload: message })\n  const updateReplies = replies =>\n    webchatDispatch({ type: 'updateReplies', payload: replies })\n  const updateLatestInput = input =>\n    webchatDispatch({ type: 'updateLatestInput', payload: input })\n  const updateTyping = typing =>\n    webchatDispatch({ type: 'updateTyping', payload: typing })\n  const updateWebview = (webview, params) =>\n    webchatDispatch({\n      type: 'updateWebview',\n      payload: { webview, webviewParams: params }\n    })\n  const updateSession = session =>\n    webchatDispatch({\n      type: 'updateSession',\n      payload: session\n    })\n  const updateUser = user =>\n    webchatDispatch({\n      type: 'updateUser',\n      payload: user\n    })\n  const updateLastRoutePath = path =>\n    webchatDispatch({\n      type: 'updateLastRoutePath',\n      payload: path\n    })\n  const updateHandoff = handoff =>\n    webchatDispatch({\n      type: 'updateHandoff',\n      payload: handoff\n    })\n  const updateTheme = theme =>\n    webchatDispatch({\n      type: 'updateTheme',\n      payload: theme\n    })\n  const updateDevSettings = settings =>\n    webchatDispatch({\n      type: 'updateDevSettings',\n      payload: settings\n    })\n  const toggleWebchat = toggle =>\n    webchatDispatch({\n      type: 'toggleWebchat',\n      payload: toggle\n    })\n  const setError = error =>\n    webchatDispatch({\n      type: 'setError',\n      payload: error\n    })\n\n  return {\n    webchatState,\n    webchatDispatch,\n    addMessage,\n    addMessageComponent,\n    updateMessage,\n    updateReplies,\n    updateLatestInput,\n    updateTyping,\n    updateWebview,\n    updateSession,\n    updateUser,\n    updateLastRoutePath,\n    updateHandoff,\n    updateTheme,\n    updateDevSettings,\n    toggleWebchat,\n    setError\n  }\n}\n\nexport function useTyping({ webchatState, updateTyping, updateMessage }) {\n  useEffect(() => {\n    let delayTimeout, typingTimeout\n    let end = document.getElementById('messages-end')\n    if (end) {\n      end.scrollIntoView({ behavior: 'smooth' })\n      setTimeout(() => end.scrollIntoView({ behavior: 'smooth' }), 100)\n    }\n    try {\n      let nextMsg = webchatState.messagesJSON.filter(m => !m.display)[0]\n      if (nextMsg.delay && nextMsg.typing) {\n        delayTimeout = setTimeout(\n          () => updateTyping(true),\n          nextMsg.delay * 1000\n        )\n      } else if (nextMsg.typing) updateTyping(true)\n      let totalDelay = nextMsg.delay + nextMsg.typing\n      if (totalDelay)\n        typingTimeout = setTimeout(() => {\n          updateMessage({ ...nextMsg, display: true })\n          updateTyping(false)\n        }, totalDelay * 1000)\n    } catch (e) {}\n    return () => {\n      clearTimeout(delayTimeout)\n      clearTimeout(typingTimeout)\n    }\n  }, [webchatState.messagesJSON])\n}\n\nexport function usePrevious(value) {\n  const ref = useRef()\n  useEffect(() => {\n    ref.current = value\n  })\n  return ref.current\n}\n\nexport function useComponentVisible(initialIsVisible) {\n  const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible)\n  const ref = useRef(null)\n\n  const handleClickOutside = event => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      setIsComponentVisible(false)\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside, true)\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true)\n    }\n  })\n\n  return { ref, isComponentVisible, setIsComponentVisible }\n}\n"],"file":"hooks.js"}