{"version":3,"sources":["../../src/components/reply.jsx"],"names":["Reply","props","WebchatContext","webchatState","sendText","handleClick","event","preventDefault","children","payload","path","renderBrowser","theme","customReply","CustomReply","e","width","padding","border","brandColor","color","borderRadius","cursor","outline","renderNode","serialize","replyProps","reply","title"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;AAEO,IAAMA,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK,EAAI;AAAA,oBACO,uBAAWC,wBAAX,CADP;AAAA,MACpBC,YADoB,eACpBA,YADoB;AAAA,MACNC,QADM,eACNA,QADM;;AAG5B,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAC3BA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAIN,KAAK,CAACO,QAAV,EAAoB;AAClB,UAAIC,OAAO,GAAGR,KAAK,CAACQ,OAApB;AACA,UAAIR,KAAK,CAACS,IAAV,EAAgBD,OAAO,6BAAsBR,KAAK,CAACS,IAA5B,CAAP;AAChBN,MAAAA,QAAQ,CAACH,KAAK,CAACO,QAAP,EAAiBC,OAAjB,CAAR;AACD;AACF,GAPD;;AASA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,QAAIR,YAAY,CAACS,KAAb,CAAmBC,WAAvB,EAAoC;AAClC,UAAIC,WAAW,GAAGX,YAAY,CAACS,KAAb,CAAmBC,WAArC;AACA,aACE;AAAK,QAAA,OAAO,EAAE,iBAAAE,CAAC;AAAA,iBAAIV,WAAW,CAACU,CAAD,CAAf;AAAA;AAAf,SACE,gCAAC,WAAD,QAAcd,KAAK,CAACO,QAApB,CADF,CADF;AAKD;;AACD,WACE;AACE,MAAA,KAAK,EAAE;AACLQ,QAAAA,KAAK,EAAE,MADF;AAELC,QAAAA,OAAO,EAAE,SAFJ;AAGLC,QAAAA,MAAM,sBAAef,YAAY,CAACS,KAAb,CAAmBO,UAAlC,CAHD;AAILC,QAAAA,KAAK,EAAEjB,YAAY,CAACS,KAAb,CAAmBO,UAJrB;AAKLE,QAAAA,YAAY,EAAE,CALT;AAMLC,QAAAA,MAAM,EAAE,SANH;AAOLC,QAAAA,OAAO,EAAE;AAPJ,OADT;AAUE,MAAA,OAAO,EAAE,iBAAAR,CAAC;AAAA,eAAIV,WAAW,CAACU,CAAD,CAAf;AAAA;AAVZ,OAYGd,KAAK,CAACO,QAZT,CADF;AAgBD,GAzBD;;AA2BA,MAAMgB,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,QAAIvB,KAAK,CAACS,IAAV,EAAgB;AACd,UAAID,OAAO,6BAAsBR,KAAK,CAACS,IAA5B,CAAX;AACA,aAAO;AAAO,QAAA,OAAO,EAAED;AAAhB,SAA0BR,KAAK,CAACO,QAAhC,CAAP;AACD;;AACD,WAAO;AAAO,MAAA,OAAO,EAAEP,KAAK,CAACQ;AAAtB,OAAgCR,KAAK,CAACO,QAAtC,CAAP;AACD,GAND;;AAQA,MAAI,sBAAJ,EAAiB,OAAOG,aAAa,EAApB,CAAjB,KACK,IAAI,mBAAJ,EAAc,OAAOa,UAAU,EAAjB;AACpB,CAjDM;;;;AAmDPxB,KAAK,CAACyB,SAAN,GAAkB,UAAAC,UAAU,EAAI;AAC9B,MAAIjB,OAAO,GAAGiB,UAAU,CAACjB,OAAzB;AACA,MAAIiB,UAAU,CAAChB,IAAf,EAAqBD,OAAO,6BAAsBiB,UAAU,CAAChB,IAAjC,CAAP;AACrB,SAAO;AAAEiB,IAAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAEF,UAAU,CAAClB,QAApB;AAA8BC,MAAAA,OAAO,EAAPA;AAA9B;AAAT,GAAP;AACD,CAJD","sourcesContent":["import React, { useContext } from 'react'\n\nimport { isBrowser, isNode } from '@botonic/core'\nimport { WebchatContext } from '../contexts'\n\nexport const Reply = props => {\n  const { webchatState, sendText } = useContext(WebchatContext)\n\n  const handleClick = event => {\n    event.preventDefault()\n    if (props.children) {\n      let payload = props.payload\n      if (props.path) payload = `__PATH_PAYLOAD__${props.path}`\n      sendText(props.children, payload)\n    }\n  }\n\n  const renderBrowser = () => {\n    if (webchatState.theme.customReply) {\n      let CustomReply = webchatState.theme.customReply\n      return (\n        <div onClick={e => handleClick(e)}>\n          <CustomReply>{props.children}</CustomReply>\n        </div>\n      )\n    }\n    return (\n      <button\n        style={{\n          width: '100%',\n          padding: '4px 8px',\n          border: `1px solid ${webchatState.theme.brandColor}`,\n          color: webchatState.theme.brandColor,\n          borderRadius: 8,\n          cursor: 'pointer',\n          outline: 0\n        }}\n        onClick={e => handleClick(e)}\n      >\n        {props.children}\n      </button>\n    )\n  }\n\n  const renderNode = () => {\n    if (props.path) {\n      let payload = `__PATH_PAYLOAD__${props.path}`\n      return <reply payload={payload}>{props.children}</reply>\n    }\n    return <reply payload={props.payload}>{props.children}</reply>\n  }\n\n  if (isBrowser()) return renderBrowser()\n  else if (isNode()) return renderNode()\n}\n\nReply.serialize = replyProps => {\n  let payload = replyProps.payload\n  if (replyProps.path) payload = `__PATH_PAYLOAD__${replyProps.path}`\n  return { reply: { title: replyProps.children, payload } }\n}\n"],"file":"reply.js"}