{"version":3,"sources":["../../src/components/element.jsx"],"names":["Element","props","renderBrowser","display","flexDirection","width","marginRight","borderRadius","border","overflow","children","renderNode","serialize","elementProps","element","Object","assign","filter","c","type","name","map","Array","b","bb","button"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AAEO,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAAAC,KAAK,EAAI;AAC9B,MAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA,WACpB;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,aAAa,EAAE,QAFV;AAGLC,QAAAA,KAAK,EAAE,GAHF;AAILC,QAAAA,WAAW,EAAE,CAJR;AAKLC,QAAAA,YAAY,EAAE,CALT;AAMLC,QAAAA,MAAM,EAAE,mBANH;AAOLC,QAAAA,QAAQ,EAAE;AAPL;AADT,OAWGR,KAAK,CAACS,QAXT,CADoB;AAAA,GAAtB;;AAgBA,MAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,WAAM,iDAAUV,KAAK,CAACS,QAAhB,CAAN;AAAA,GAAnB;;AAEA,MAAI,sBAAJ,EAAiB,OAAOR,aAAa,EAApB,CAAjB,KACK,IAAI,mBAAJ,EAAc,OAAOS,UAAU,EAAjB;AACpB,CArBM;;;;AAuBPX,OAAO,CAACY,SAAR,GAAoB,UAAAC,YAAY,EAAI;AAClC,MAAIC,OAAO,GAAGC,MAAM,CAACC,MAAP,OAAAD,MAAM,GAClB,EADkB,6CAEfF,YAAY,CAACH,QAAb,CACAO,MADA,CACO,UAAAC,CAAC;AAAA,WAAIA,CAAC,IAAIA,CAAC,CAACC,IAAP,IAAeD,CAAC,CAACC,IAAF,CAAOC,IAAP,IAAe,QAAlC;AAAA,GADR,EAEAC,GAFA,CAEI,UAAAH,CAAC;AAAA,WAAIA,CAAC,CAACC,IAAF,CAAOP,SAAP,IAAoBM,CAAC,CAACC,IAAF,CAAOP,SAAP,CAAiBM,CAAC,CAACjB,KAAnB,CAAxB;AAAA,GAFL,CAFe,GAApB,CADkC,CAOlC;AACA;;AACAa,EAAAA,OAAO,CAAC,SAAD,CAAP,uCACKD,YAAY,CAACH,QAAb,CACAO,MADA,CACO,UAAAC,CAAC,EAAI;AACX,QAAIA,CAAC,YAAYI,KAAjB,EAAwB,OAAO,IAAP;AACxB,WAAOJ,CAAC,IAAIA,CAAC,CAACC,IAAP,IAAeD,CAAC,CAACC,IAAF,CAAOC,IAAP,IAAe,QAArC;AACD,GAJA,EAKAC,GALA,CAKI,UAAAE,CAAC,EAAI;AACR,QAAIA,CAAC,YAAYD,KAAjB,EAAwB;AACtB,aAAOC,CAAC,CAACF,GAAF,CACL,UAAAG,EAAE;AAAA,eACAA,EAAE,IACFA,EAAE,CAACL,IADH,IAEAK,EAAE,CAACL,IAAH,CAAQP,SAFR,IAGAY,EAAE,CAACL,IAAH,CAAQP,SAAR,CAAkBY,EAAE,CAACvB,KAArB,EAA4BwB,MAJ5B;AAAA,OADG,CAAP;AAOD;;AACD,WACEF,CAAC,IAAIA,CAAC,CAACJ,IAAP,IAAeI,CAAC,CAACJ,IAAF,CAAOP,SAAtB,IAAmCW,CAAC,CAACJ,IAAF,CAAOP,SAAP,CAAiBW,CAAC,CAACtB,KAAnB,EAA0BwB,MAD/D;AAGD,GAlBA,CADL,EATkC,CA8BlC;AACA;AACA;;AACA,MAAIX,OAAO,CAAC,SAAD,CAAP,CAAmB,CAAnB,aAAiCQ,KAArC,EACER,OAAO,CAAC,SAAD,CAAP,GAAqBA,OAAO,CAAC,SAAD,CAAP,CAAmB,CAAnB,CAArB;AACF,SAAOA,OAAP;AACD,CApCD","sourcesContent":["import React from 'react'\n\nimport { isBrowser, isNode } from '@botonic/core'\n\nexport const Element = props => {\n  const renderBrowser = () => (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        width: 222,\n        marginRight: 6,\n        borderRadius: 6,\n        border: '1px solid #F1F0F0',\n        overflow: 'hidden'\n      }}\n    >\n      {props.children}\n    </div>\n  )\n\n  const renderNode = () => <element>{props.children}</element>\n\n  if (isBrowser()) return renderBrowser()\n  else if (isNode()) return renderNode()\n}\n\nElement.serialize = elementProps => {\n  let element = Object.assign(\n    {},\n    ...elementProps.children\n      .filter(c => c && c.type && c.type.name != 'Button')\n      .map(c => c.type.serialize && c.type.serialize(c.props))\n  )\n  // When we are serializer buttons from backend, we are receiving the data\n  // as an array of buttons, so we have to keep robust with serve and deal with arrays\n  element['buttons'] = [\n    ...elementProps.children\n      .filter(c => {\n        if (c instanceof Array) return true\n        return c && c.type && c.type.name == 'Button'\n      })\n      .map(b => {\n        if (b instanceof Array) {\n          return b.map(\n            bb =>\n              bb &&\n              bb.type &&\n              bb.type.serialize &&\n              bb.type.serialize(bb.props).button\n          )\n        }\n        return (\n          b && b.type && b.type.serialize && b.type.serialize(b.props).button\n        )\n      })\n  ]\n  // When we have the buttons from backend, we have all buttons inside an array on the first position\n  // of another array in element['buttons'] we want that element['buttons'] to be an array of buttons,\n  // not an array of another array of buttons\n  if (element['buttons'][0] instanceof Array)\n    element['buttons'] = element['buttons'][0]\n  return element\n}\n"],"file":"element.js"}